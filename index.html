<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feedback deti jaana Cutie üéÄ</title>

<style>
    body{
        margin:0;
        font-family: "Poppins", sans-serif;
        background:#ffeef3;
        display:flex;
        justify-content:center;
        align-items:center;
        min-height:100vh;
    }

    .container{
        background:white;
        width:90%;
        max-width:380px;
        padding:25px;
        border-radius:18px;
        text-align:center;
        box-shadow:0 10px 30px rgba(255,105,180,0.2);
    }

    h1{
        color:#ff5fa2;
        font-size:22px;
        margin-bottom:15px;
    }

    textarea{
        width:100%;
        height:90px;
        border-radius:12px;
        border:1px solid #ffd0df;
        padding:10px;
        resize:none;
        font-size:14px;
        outline:none;
    }

    button{
        background:#ff5fa2;
        color:white;
        border:none;
        padding:10px 22px;
        border-radius:25px;
        margin-top:12px;
        cursor:pointer;
        font-size:14px;
    }

    button:hover{
        opacity:0.9;
    }

    .admin-fixed{
        position:fixed;
        top:15px;
        right:15px;
        background:#ff3d8d;
        padding:8px 14px;
        font-size:12px;
        border-radius:20px;
        z-index:999;
        box-shadow:0 6px 15px rgba(255,79,154,0.4);
    }

    .admin{
        display:none;
        margin-top:20px;
        text-align:left;
    }

    .admin h3{
        color:#ff5fa2;
        margin-bottom:8px;
    }

    .filters button{
        font-size:12px;
        margin-right:6px;
        padding:6px 10px;
    }

    .feedback{
        background:#fff5fa;
        padding:10px;
        border-radius:10px;
        margin-bottom:8px;
        font-size:13px;
    }

    .time{
        font-size:11px;
        color:gray;
    }

    .toggle{
        font-size:12px;
        color:#ff5fa2;
        cursor:pointer;
        margin-top:4px;
        display:inline-block;
    }

    .popup{
        position:fixed;
        top:50%;
        left:50%;
        transform:translate(-50%,-50%) scale(0);
        background:white;
        padding:25px 30px;
        border-radius:18px;
        transition:.3s;
        z-index:1000;
        text-align:center;
        box-shadow:0 15px 40px rgba(255,105,180,0.3);
    }

    .popup.active{
        transform:translate(-50%,-50%) scale(1);
    }
</style>
</head>

<body>

<button type="button" class="admin-fixed" id="adminBtn">Admin Panel üîê</button>

<div class="container">
    <h1>Feedback deti jaana Cutie üéÄ</h1>

    <textarea id="input" placeholder="Dil se likho... üíå"></textarea>
    <br>
    <button onclick="submitFeedback()">Submit üíñ</button>

    <div class="admin" id="adminPanel">
        <h3>Admin Panel üîê</h3>

        <div class="filters">
            <button onclick="filterMode('all')">All</button>
            <button onclick="filterMode('public')">Public</button>
            <button onclick="filterMode('private')">Private</button>
        </div>

        <div id="list"></div>
    </div>
</div>

<div class="popup" id="popup">
    <h3>Thank you cutie üíï</h3>
</div>

<script>
    let feedbacks = JSON.parse(localStorage.getItem("feedbacks")) || [];
    let mode = "all";
    const list = document.getElementById("list");

    function submitFeedback(){
        const text = document.getElementById("input").value.trim();
        if(!text) return;

        feedbacks.push({
            text,
            time: new Date().toLocaleString(),
            public:false
        });

        localStorage.setItem("feedbacks", JSON.stringify(feedbacks));
        document.getElementById("input").value="";
        showPopup();
        render();
    }

    function showPopup(){
        const p = document.getElementById("popup");
        p.classList.add("active");
        setTimeout(()=>p.classList.remove("active"),1500);
    }

    function adminLogin(){
        const u = prompt("Username");
        const p = prompt("Password");
        if(u==="prashant" && p==="cutie123"){
            document.getElementById("adminPanel").style.display="block";
            render();
        }else{
            alert("Wrong login");
        }
    }

    function filterMode(m){
        mode = m;
        render();
    }

    function render(){
        list.innerHTML="";
        feedbacks.forEach((f,i)=>{
            if(mode==="public" && !f.public) return;
            if(mode==="private" && f.public) return;

            list.innerHTML += `
                <div class="feedback">
                    ${f.text}
                    <div class="time">${f.time}</div>
                    <div class="toggle" onclick="toggle(${i})">
                        ${f.public ? "Make Private üîí" : "Make Public üåç"}
                    </div>
                </div>
            `;
        });
    }

    function toggle(i){
        feedbacks[i].public = !feedbacks[i].public;
        localStorage.setItem("feedbacks", JSON.stringify(feedbacks));
        render();
    }

    // SAFARI-PROOF ADMIN BUTTON
    document.getElementById("adminBtn").addEventListener("click", function(e){
        e.preventDefault();
        adminLogin();
    });
</script>

</body>
</html>
